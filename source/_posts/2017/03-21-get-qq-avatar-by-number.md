---
title: 通过QQ号码获取QQ头像、昵称以及空间头像
date: 2017-03-21 23:07:01
toc: true
categories: 未分类
tags: API
---

从网上搜罗了一堆获取QQ头像的方法，基本上都是通过简单的链接即可实现，在这里做下记录和总结！

<!-- more -->

### QQ头像

1. <http://q1.qlogo.cn/g?b=qq&nk=945794520&s=100>
2. <http://q1.qlogo.cn/g?b=qq&k=yJjDKicYbQOuvhb22ckmr9Q&s=100>
3. <http://q1.qlogo.cn/headimg_dl?dst_uin=945794520&spec=100>

这是我目前知道的三种方式，准确的说是两种。

因为前两个链接其实是同一个，区别在于第一个传递的参数 `nk` 是QQ号，而第二个传递的参数 `k` 是什么就不得而知了。

当然，如果能知道这两个参数的转换方式就再好不过了，那样至少保证了QQ号不被直接截获！

另外，这三个链接的最后一个参数 `s` 或是 `spec` 是头像尺寸的大小，其对应关系如下，暂时没发现更多的尺寸。

| s / spec | px |
| :-------- | :--: |
| 1 | 40 × 40 |
| 2 | 40 × 40 |
| 3 | 100 × 100 |
| 4 | 140 × 140 |
| 5 | 640 × 640 |
| 40 | 40 × 40 |
| 100 | 100 × 100 |

### QQ昵称和QQ空间头像

1. <http://r.pengyou.com/fcg-bin/cgi_get_portrait.fcg?uins=945794520>
2. <http://qlogo1.store.qq.com/qzone/945794520/945794520/100>

QQ昵称和QQ空间头像的获取其实都是通过第一个链接返回的 `jsonp` 数据中得到的

```javascript
portraitCallBack({"945794520":["http://qlogo1.store.qq.com/qzone/945794520/945794520/100",6419,-1,0,0,0,"这里是昵称",0]})
```

其中包括了QQ空间头像的链接地址和昵称，QQ昵称拿去干嘛我就不管了。

但QQ空间头像可不要以为随便放进 `<img />` 就行了。

因为，机智如鹅厂，早已做了图像防盗链处理！
